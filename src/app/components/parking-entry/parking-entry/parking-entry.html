<div class="container p-4 mx-auto bg-white shadow-lg rounded-xl">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">ðŸš— Vehicle Entry</h2>

  <!-- Vehicle Number Input -->
  <form [formGroup]="entryForm" class="space-y-3">
    <label class="block font-medium">Vehicle Number</label>
    <input
      formControlName="vehicleNumber"
      placeholder="e.g. TN09AB1234"
      class="w-full border p-2 rounded-md shadow-sm focus:ring focus:ring-blue-400"
    />

    @if (entryForm.get('vehicleNumber')?.touched && entryForm.get('vehicleNumber')?.invalid) {
      <p class="text-red-500 text-sm">Enter valid vehicle number</p>
    }
  </form>

  <!-- Free Slots -->
  @if (freeSlots.length === 0) {
    <p class="text-red-600 mt-4">No free slots available.</p>
  } @else {
    <h3 class="text-lg font-semibold mt-4">Free Slots Available</h3>
    <ul class="mt-2 space-y-2">
      @for (slot of freeSlots; track slot.id) {
        <li class="flex justify-between items-center p-3 border rounded-lg">
          <span class="font-medium">{{ slot.slotNumber }}</span>
          <button
            class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition"
            (click)="assignVehicle(slot.id)"
          >
            Park Here
          </button>
        </li>
      }
    </ul>
  }

  <!-- Success Message -->
  @if (message) {
    <p class="text-green-600 mt-4">{{ message }}</p>
  }
  
</div>
@if (toastMessage()) {
  <div
    class="fixed bottom-6 right-6 backdrop-blur-md bg-green-500/80 text-white px-5 py-3
           rounded-2xl shadow-xl flex items-center gap-2 animate-slide-in border border-white/30">
    <span class="font-medium">{{ toastMessage() }}</span>
  </div>
}